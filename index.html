<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì²­ì†Œë…„ í”„ë¡œëª¨ì…˜ ê¸°íšì•ˆ_v1.0</title>
<link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
<!-- ì—‘ì…€/CSV íŒŒì‹± ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<!-- ê·¸ë˜í”„ ë Œë”ë§ì„ ìœ„í•œ Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
    :root {
        --primary-color: #5f00ff;
        --primary-dark: #4a00c7;
        --bg-color: #f4f5f7;
        --text-color: #333;
        --gray-color: #666;
        --border-color: #ddd;
        --white: #ffffff;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
        font-family: 'Pretendard', -apple-system, sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        line-height: 1.6;
        display: flex;
        justify-content: center;
        padding: 40px 20px;
    }

    .report-container {
        width: 100%;
        max-width: 1000px;
        background: var(--white);
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        overflow: hidden;
    }

    .report-header {
        background: #1a1a1a;
        color: white;
        padding: 24px 32px;
        border-bottom: 4px solid var(--primary-color);
    }
    .report-header h1 { font-size: 20px; font-weight: 700; margin-bottom: 4px; }
    .report-header p { font-size: 13px; opacity: 0.7; }

    /* íƒ­ ë©”ë‰´ ìŠ¤íƒ€ì¼ */
    .tab-menu {
        display: flex;
        background: #f8f9fa;
        border-bottom: 1px solid var(--border-color);
    }
    .tab-btn {
        flex: 1;
        padding: 16px;
        border: none;
        background: none;
        font-size: 15px;
        font-weight: 700;
        color: #888;
        cursor: pointer;
        border-bottom: 3px solid transparent;
        transition: all 0.2s;
    }
    .tab-btn:hover { background: #f0f2f5; }
    .tab-btn.active {
        color: var(--primary-color);
        border-bottom: 3px solid var(--primary-color);
        background: var(--white);
    }

    .tab-content { display: none; }
    #tab-overview.active { display: flex; flex-wrap: wrap; }
    #tab-data.active { display: block; padding: 40px; }

    /* UI ì‹œì•ˆ ì˜ì—­ */
    .ui-preview-section {
        flex: 1;
        min-width: 320px;
        background: #f8f9fa;
        padding: 40px;
        border-right: 1px solid var(--border-color);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
    }

    .section-label {
        align-self: flex-start;
        font-size: 12px;
        font-weight: 800;
        color: #999;
        margin-bottom: 16px;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .real-img-container {
        width: 100%;
        max-width: 320px;
        display: flex;
        flex-direction: column;
        gap: 30px;
    }

    .img-wrapper { display: flex; flex-direction: column; gap: 8px; }
    .img-desc { font-size: 12px; font-weight: 600; color: var(--primary-color); text-align: left; }
    .real-img {
        width: 100%; height: auto; border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 1px solid #eee; display: block;
    }
    .img-error {
        font-size: 12px; color: #d32f2f; background: #ffebeb; padding: 20px;
        text-align: center; border-radius: 8px; border: 1px dashed #d32f2f; display: none;
    }

    /* ìŠ¤í™ ëª…ì„¸ ì˜ì—­ */
    .spec-section { flex: 1.4; min-width: 320px; padding: 40px; }
    .spec-group { margin-bottom: 32px; }
    .spec-title { 
        font-size: 16px; font-weight: 700; border-left: 4px solid var(--primary-color); 
        padding-left: 10px; margin-bottom: 16px; color: #111;
    }

    .spec-table { width: 100%; border-collapse: collapse; font-size: 13px; }
    .spec-table th, .spec-table td { padding: 12px; border-bottom: 1px solid #eee; text-align: left; }
    .spec-table th { width: 100px; color: #555; background: #fafafa; font-weight: 600; }
    .spec-table td { color: #333; }
    
    .logic-list { list-style: none; padding: 0; margin: 0; }
    .logic-list li { position: relative; padding-left: 14px; margin-bottom: 6px; }
    .logic-list li::before { content: 'â€¢'; position: absolute; left: 0; color: var(--primary-color); font-weight: bold; }
    .important { color: #d32f2f; font-weight: 600; }
    .date-badge { background: #eee; padding: 2px 6px; border-radius: 4px; font-family: monospace; }

    /* ë°ì´í„° íƒ­ ìŠ¤íƒ€ì¼ */
    .chart-container {
        width: 100%;
        max-width: 800px;
        height: 320px; /* ëª¨ë°”ì¼ ì°¨íŠ¸ ë†’ì´ ê³ ì • */
        margin: 0 auto 30px auto;
        padding: 10px;
        background: #fff;
        border: 1px solid #eee;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.02);
    }

    /* í‘œ ìŠ¤íƒ€ì¼ ê°œì„ : ëª¨ë°”ì¼ ê°€ë¡œ ìŠ¤í¬ë¡¤ ì ìš© */
    #dynamicTableContainer {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        border: 1px solid #eee;
        border-radius: 8px;
    }

    .data-grid { 
        width: 100%; 
        border-collapse: collapse; 
        font-size: 12px; 
        white-space: nowrap; /* ì¤„ë°”ê¿ˆ ë°©ì§€ */
    }
    
    .data-grid th, .data-grid td { 
        border: 1px solid #ddd; 
        padding: 10px 12px; 
        text-align: center; 
    }
    
    .data-grid th { 
        background-color: #f0f2f5; 
        font-weight: 700; 
        color: #444; 
    }
    .data-grid td { background-color: #fff; }

    /* ë°ì´í„° ì†ŒìŠ¤ ìƒíƒœ í‘œì‹œ */
    .data-source-status {
        background: #e8f0fe;
        color: #1967d2;
        padding: 12px;
        border-radius: 8px;
        font-size: 13px;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .data-source-status.error {
        background: #ffebeb;
        color: #d32f2f;
    }

    @media (max-width: 768px) {
        body { padding: 20px 10px; }
        .report-header { padding: 20px; }
        #tab-overview.active { flex-direction: column; }
        .ui-preview-section { border-right: none; border-bottom: 1px solid var(--border-color); padding: 30px 20px; }
        #tab-data.active { padding: 20px; }
        
        .chart-container { height: 280px; padding: 5px; }
        .data-grid { font-size: 11px; }
    }
</style>
</head>
<body>

<div class="report-container">
    <header class="report-header">
        <h1>2026 ì²­ì†Œë…„ íŠ¹ë³„ í”„ë¡œëª¨ì…˜ ê¸°íšì•ˆ</h1>
        <p>ì‘ì„±ì¼: 2026.02.12 | ì‘ì„±ì: ê¸°íšíŒ€ | ë¬¸ì„œìœ í˜•: UI/UX ë° ì •ì±… ì •ì˜ì„œ</p>
    </header>

    <div class="tab-menu">
        <button class="tab-btn active" onclick="switchTab('overview')">ê¸°íš ê°œìš”</button>
        <button class="tab-btn" onclick="switchTab('data')">ê²°ê³¼ ë°ì´í„°</button>
    </div>

    <!-- ê°œìš” íƒ­ -->
    <div id="tab-overview" class="tab-content active">
        <section class="ui-preview-section">
            <span class="section-label">Frontend UI Preview</span>
            <div class="real-img-container">
                <div class="img-wrapper">
                    <span class="img-desc">1. ë©”ì¸ íŒì—… UI</span>
                    <img src="image_efee1f.png" alt="ë©”ì¸ íŒì—…" class="real-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                    <div class="img-error">ê°™ì€ í´ë”ì— 'image_efee1f.png' íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>
                </div>
                <div class="img-wrapper">
                    <span class="img-desc">2. ë©¤ë²„ì‹­ ìƒì„¸ UI</span>
                    <img src="image_efee36.png" alt="ìƒì„¸ í˜ì´ì§€" class="real-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                    <div class="img-error">ê°™ì€ í´ë”ì— 'image_efee36.png' íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>
                </div>
                <div class="img-wrapper">
                    <span class="img-desc">3. ì„ ë¬¼í•¨ UI</span>
                    <img src="image_gift.png" alt="ì„ ë¬¼í•¨ í˜ì´ì§€" class="real-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                    <div class="img-error">ê°™ì€ í´ë”ì— 'image_gift.png' íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>
                </div>
            </div>
        </section>

        <section class="spec-section">
            <span class="section-label">Policy Specification</span>

            <div class="spec-group">
                <h3 class="spec-title">1. í”„ë¡œëª¨ì…˜ ê°œìš”</h3>
                <table class="spec-table">
                    <tr><th>ì´ë²¤íŠ¸ëª…</th><td>ìƒˆí•™ê¸° ì‘ì› ì²­ì†Œë…„ í”„ë¡œëª¨ì…˜</td></tr>
                    <tr><th>ì§„í–‰ ê¸°ê°„</th><td><span class="date-badge">02.12</span> ~ <span class="date-badge">03.03</span> (20ì¼ê°„)</td></tr>
                    <tr><th>íƒ€ê²Ÿ ëŒ€ìƒ</th><td>2008ë…„ ~ 2012ë…„ìƒ (ë§Œ 14ì„¸~18ì„¸ ê¸°ì¤€)</td></tr>
                </table>
            </div>

            <div class="spec-group">
                <h3 class="spec-title">2. ì§„ì… ë° ê²°ì œ ì¡°ê±´ (Check Logic)</h3>
                <table class="spec-table">
                    <tr>
                        <th>ìê²© ìš”ê±´</th>
                        <td>
                            <ul class="logic-list">
                                <li>ìƒë…„ì›”ì¼ ê¸°ì¤€ 2008~2012ë…„ìƒ</li>
                                <li>í˜„ì¬ ë¹„í”ŒëŸ¬ìŠ¤ ìƒíƒœ (ë¬´ë£Œ ì´ìš©ì ì œì™¸)</li>
                                <li><span class="important">1ì›” 5ì¼ ì´í›„</span> ë©¤ë²„ì‹­ ê²°ì œ ì´ë ¥ì´ ì—†ì„ ê²ƒ</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <th>ì¤‘ë³µ ì²´í¬</th>
                        <td>
                            <ul class="logic-list">
                                <li>ëª…ì˜(CI/DI) ê¸°ë°˜ ì „ìˆ˜ ì¡°ì‚¬</li>
                                <li>ë™ì¼ ëª…ì˜ íƒ€ ê³„ì •ì— í”ŒëŸ¬ìŠ¤ ì´ìš©ê¶Œ ì¡´ì¬ ì‹œ <span class="important">ëŒ€ìƒ ì œì™¸</span></li>
                            </ul>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="spec-group">
                <h3 class="spec-title">3. ìœ ì§€ ë° í•´ì§€ ì •ì±… (Retention)</h3>
                <table class="spec-table">
                    <tr>
                        <th>ê°€ê²© ì •ì±…</th>
                        <td>
                            ê°€ì… ì‹œì ë¶€í„° ì„±ì¸ì´ ë  ë•Œê¹Œì§€ <strong>ì›” 8,900ì›</strong> ê³ ì •<br>
                            <span style="font-size:11px; color:#888;">* 16,900ì› ëŒ€ë¹„ ì•½ 47% í• ì¸</span>
                        </td>
                    </tr>
                    <tr>
                        <th>ì œì™¸/ì¢…ë£Œ</th>
                        <td>
                            <ul class="logic-list">
                                <li>í•´ì§€ í˜¹ì€ í™˜ë¶ˆ ì‹œ ì¬ê°€ì… ë¶ˆê°€ (ì¼ë°˜ìš”ê¸ˆ ì ìš©)</li>
                                <li><strong>ë§Œ 19ì„¸ ë„ë˜ ì‹œ ìë™ ì¢…ë£Œ</strong><br>(ì˜ˆ: 2008ë…„ìƒì€ 2027.01.01 ë¶€ë¡œ í˜œíƒ ì¢…ë£Œ)</li>
                            </ul>
                        </td>
                    </tr>
                </table>
            </div>
        </section>
    </div>

    <!-- ë°ì´í„° íƒ­ -->
    <div id="tab-data" class="tab-content">
        <h3 class="spec-title" style="margin-bottom: 10px;">í”„ë¡œëª¨ì…˜ ì„±ê³¼ ëŒ€ì‹œë³´ë“œ</h3>
        <p style="font-size: 13px; color: #666; margin-bottom: 20px;">êµ¬ê¸€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ì—°ë™ ë°ì´í„°ì…ë‹ˆë‹¤.</p>

        <!-- ë°ì´í„° ìƒíƒœ í‘œì‹œ -->
        <div id="statusMsg" class="data-source-status">
            <span>ğŸ”„ êµ¬ê¸€ ì‹œíŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
        </div>

        <!-- ìë™ ë Œë”ë§ ê·¸ë˜í”„ ì˜ì—­ -->
        <div class="chart-container" id="chartWrapper">
            <canvas id="resultChart"></canvas>
        </div>

        <!-- ë°ì´í„° í‘œ ì˜ì—­ (ê°€ë¡œ ìŠ¤í¬ë¡¤) -->
        <div id="dynamicTableContainer">
            <table class="data-grid" id="dataTable">
                <thead>
                    <tr>
                        <th>ë‚ ì§œ</th>
                        <th>ì´ ëŒ€ìƒì</th>
                        <th>ê²°ì œì</th>
                        <th>ë‚¨ì€ ê²°ì œì</th>
                        <th>ê²°ì œìœ¨</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- ë°ì´í„° ë¡œë“œ ì „ ê¸°ë³¸ ë¹ˆ í™”ë©´ -->
                </tbody>
            </table>
        </div>

        <!-- ì´ì „ í”„ë¡œëª¨ì…˜ ë¹„êµ ì˜ì—­ -->
        <div class="spec-group" style="margin-top: 40px; border-top: 1px dashed #ccc; padding-top: 30px;">
            <h3 class="spec-title" style="margin-bottom: 20px;">ì´ì „ í”„ë¡œëª¨ì…˜ ì„±ê³¼ ë¹„êµ (Reference)</h3>
            <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                <div style="flex: 1; min-width: 250px; background: #fff; border: 1px solid #eee; border-radius: 8px; padding: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.02);">
                    <h4 style="font-size: 14px; font-weight: 700; color: #111; margin-bottom: 12px;">6,900ì› í”„ë¡œëª¨ì…˜ (25.07)</h4>
                    <table class="data-grid">
                        <tr><th style="width: 40%;">ì´ ì¸ì› ìˆ˜</th><td class="center">46,467</td></tr>
                        <tr><th>ê²°ì œì</th><td class="center">2,761</td></tr>
                        <tr><th>ê²°ì œìœ¨</th><td class="center" style="color: var(--primary-color); font-weight: bold;">5.9%</td></tr>
                        <tr><th>í•´ì§€ìœ¨</th><td class="center" style="color: #d32f2f; font-weight: bold;">16.0%</td></tr>
                    </table>
                </div>
                <div style="flex: 1; min-width: 250px; background: #fff; border: 1px solid #eee; border-radius: 8px; padding: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.02);">
                    <h4 style="font-size: 14px; font-weight: 700; color: #111; margin-bottom: 12px;">12,900ì› í”„ë¡œëª¨ì…˜ (25.08)</h4>
                    <table class="data-grid">
                        <tr><th style="width: 40%;">ì´ ì¸ì› ìˆ˜</th><td class="center">48,655</td></tr>
                        <tr><th>ê²°ì œì</th><td class="center">404</td></tr>
                        <tr><th>ê²°ì œìœ¨</th><td class="center" style="color: var(--primary-color); font-weight: bold;">0.8%</td></tr>
                        <tr><th>í•´ì§€ìœ¨</th><td class="center" style="color: #d32f2f; font-weight: bold;">26.0%</td></tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // â–¼â–¼â–¼ ì•„ë˜ ë”°ì˜´í‘œ ì•ˆì— êµ¬ê¸€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ CSV ë§í¬ê°€ ë“¤ì–´ê°”ìŠµë‹ˆë‹¤ â–¼â–¼â–¼
    const GOOGLESHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQ4yx3FnyZ4iQ1u5hAKgZowweDPe0LzCfWoD1foemOajbXsZUznGG4v2PwqLCwGAnX56Ali6F2Ertfv/pub?gid=0&single=true&output=csv"; 

    function switchTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
        
        document.getElementById('tab-' + tabId).classList.add('active');
        event.currentTarget.classList.add('active');
        
        if(tabId === 'data' && !myChart) {
            loadGoogleSheetData();
        }
    }

    let myChart = null;

    async function loadGoogleSheetData() {
        const statusMsg = document.getElementById('statusMsg');
        
        if (!GOOGLESHEET_URL) {
            statusMsg.innerHTML = "<span>âš ï¸ êµ¬ê¸€ ì‹œíŠ¸ URLì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì½”ë“œ ë§¨ ì•„ë˜ì—ì„œ ë§í¬ë¥¼ ë„£ì–´ì£¼ì„¸ìš”.</span>";
            statusMsg.classList.add('error');
            initSampleData(); 
            return;
        }

        try {
            const response = await fetch(GOOGLESHEET_URL);
            if (!response.ok) throw new Error("ë„¤íŠ¸ì›Œí¬ ì‘ë‹µ ì‹¤íŒ¨");
            
            const csvText = await response.text();
            const workbook = XLSX.read(csvText, {type: 'string', cellDates: true});
            const worksheet = workbook.Sheets[workbook.SheetNames[0]];
            const jsonData = XLSX.utils.sheet_to_json(worksheet, {header: 1});

            renderTable(jsonData);
            renderChart(jsonData);
            statusMsg.innerHTML = "<span>âœ… êµ¬ê¸€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.</span>";
            statusMsg.classList.remove('error');

        } catch (error) {
            console.error(error);
            statusMsg.innerHTML = "<span>âŒ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë§í¬ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”. (ì›¹ì— ê²Œì‹œ -> CSV ì„ íƒ í•„ìˆ˜)</span>";
            statusMsg.classList.add('error');
        }
    }

    // ë‚ ì§œ íŒŒì‹± í—¬í¼ í•¨ìˆ˜
    function parseDateSafe(cellData) {
        if (cellData instanceof Date) return cellData;
        if (typeof cellData === 'string' && /^\d{4}-\d{2}-\d{2}$/.test(cellData)) {
            return new Date(cellData);
        }
        return null;
    }

    function renderTable(data) {
        if (!data || data.length === 0) return;

        var tableHtml = '<table class="data-grid">';
        tableHtml += '<thead><tr>';
        var headers = data[0];
        for (var i = 0; i < headers.length; i++) {
            tableHtml += '<th>' + (headers[i] || '') + '</th>';
        }
        tableHtml += '</tr></thead><tbody>';

        for (var i = 1; i < data.length; i++) {
            var row = data[i];
            if (row.length === 0) continue; 
            
            var isTotal = String(row[0]).includes('í•©ê³„');
            tableHtml += isTotal ? '<tr style="background-color: #f8f9fa; font-weight: bold;">' : '<tr>';
            
            for (var j = 0; j < headers.length; j++) {
                var cellData = row[j] !== undefined ? row[j] : '';
                
                // í‘œ ë‚ ì§œ í¬ë§·íŒ…: "2ì›” 8ì¼" í˜•íƒœë¡œ ë³€ê²½
                var dateObj = parseDateSafe(cellData);
                if (dateObj) {
                    var mm = dateObj.getUTCMonth() + 1;
                    var dd = dateObj.getUTCDate();
                    cellData = `${mm}ì›” ${dd}ì¼`;
                } else if(typeof cellData === 'number' && !Number.isInteger(cellData) && headers[j] && headers[j].includes('ìœ¨')) {
                     cellData = (cellData * 100).toFixed(2) + '%';
                }
                tableHtml += '<td class="center">' + cellData + '</td>';
            }
            tableHtml += '</tr>';
        }
        tableHtml += '</tbody></table>';

        document.getElementById('dynamicTableContainer').innerHTML = tableHtml;
    }

    function renderChart(data) {
        if (!data || data.length < 2) return;
        
        const ctx = document.getElementById('resultChart').getContext('2d');
        if (myChart) myChart.destroy(); 

        let headers = data[0];
        let dateIdx = 0;
        let buyerIdx = headers.indexOf('ê²°ì œì') > -1 ? headers.indexOf('ê²°ì œì') : 2;
        let rateIdx = headers.indexOf('ê²°ì œìœ¨') > -1 ? headers.indexOf('ê²°ì œìœ¨') : 4;

        let labels = [];
        let buyerData = [];
        let rateData = [];

        for (let i = 1; i < data.length; i++) {
            if (!data[i] || data[i].length === 0 || String(data[i][0]).includes('í•©ê³„')) continue;
            
            let rawDate = data[i][dateIdx];
            
            // ì°¨íŠ¸ ë¼ë²¨ ë‚ ì§œ í¬ë§·íŒ…: "2.9" í˜•íƒœë¡œ ì§§ê²Œ ë³€ê²½
            var dateObj = parseDateSafe(rawDate);
            if (dateObj) {
                 var mm = dateObj.getUTCMonth() + 1;
                 var dd = dateObj.getUTCDate();
                 labels.push(`${mm}.${dd}`);
            } else {
                 labels.push(rawDate);
            }
            
            buyerData.push(Number(data[i][buyerIdx]) || 0);

            let rateVal = data[i][rateIdx];
            if(typeof rateVal === 'string') {
                rateVal = rateVal.replace('%', '');
            } else if (typeof rateVal === 'number' && rateVal < 1) {
                rateVal = rateVal * 100;
            }
            rateData.push(Number(rateVal) || 0);
        }

        myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [
                    {
                        type: 'bar', label: 'ê²°ì œì ìˆ˜ (ëª…)', data: buyerData,
                        backgroundColor: 'rgba(95, 0, 255, 0.7)', borderColor: '#5f00ff', borderWidth: 1, yAxisID: 'y'
                    },
                    {
                        type: 'line', label: 'ê²°ì œìœ¨ (%)', data: rateData,
                        borderColor: '#ff4d4f', backgroundColor: '#ff4d4f', borderWidth: 2, tension: 0.1, yAxisID: 'y1'
                    }
                ]
            },
            options: {
                responsive: true, 
                maintainAspectRatio: false, 
                interaction: { mode: 'index', intersect: false },
                plugins: {
                    legend: { labels: { boxWidth: 12, font: { size: 11 } } }
                },
                scales: {
                    x: { grid: { display: false }, ticks: { font: { size: 11 } } },
                    y: { 
                        type: 'linear', display: true, position: 'left', 
                        title: { display: true, text: 'ê²°ì œì ìˆ˜', font: {size: 11} },
                        ticks: { font: { size: 10 } }
                    },
                    y1: { 
                        type: 'linear', display: true, position: 'right', 
                        title: { display: true, text: 'ê²°ì œìœ¨ (%)', font: {size: 11} }, 
                        grid: { drawOnChartArea: false },
                        ticks: { font: { size: 10 } }
                    }
                }
            }
        });
    }

    function initSampleData() {
        const labels = ['2.9', '2.10', '2.11', '2.12'];
        const buyerData = [2, 6, 1, 26];
        const rateData = [0.00, 0.01, 0.00, 0.05];
        
        const ctx = document.getElementById('resultChart').getContext('2d');
        myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [
                    { type: 'bar', label: 'ê²°ì œì ìˆ˜ (ëª…)', data: buyerData, backgroundColor: 'rgba(95, 0, 255, 0.7)', yAxisID: 'y' },
                    { type: 'line', label: 'ê²°ì œìœ¨ (%)', data: rateData, borderColor: '#ff4d4f', yAxisID: 'y1' }
                ]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: {
                    y: { type: 'linear', display: true, position: 'left', title: { display: true, text: 'ê²°ì œì ìˆ˜' } },
                    y1: { type: 'linear', display: true, position: 'right', grid: { drawOnChartArea: false } }
                }
            }
        });

        let sampleData = [
            ['ë‚ ì§œ', 'ì´ ëŒ€ìƒì', 'ê²°ì œì', 'ë‚¨ì€ ê²°ì œì', 'ê²°ì œìœ¨'],
            ['2ì›” 9ì¼', 49327, 2, 49325, 0.00],
            ['2ì›” 10ì¼', 49331, 6, 49325, 0.01],
            ['2ì›” 11ì¼', 49326, 1, 49325, 0.00],
            ['2ì›” 12ì¼', 49351, 26, 49325, 0.05],
            ['í•©ê³„', 49360, 35, 49325, 0.07]
        ];
        renderTable(sampleData);
    }
</script>
</body>
</html>
